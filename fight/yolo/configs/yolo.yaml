yolo:
  weights: "yolo11n.pt"
  imgsz: 768
  conf: 0.20
  iou: 0.65
  classes: [0]
  device: "auto"
  half: "auto"

filter:
  min_persons: 2
  topk_by_area: 4
  min_box_area_ratio: 0.005

segments:
  thr_on: "motion_open"
  thr_off: "motion_close"
  skip_first_frames: 0
  min_len_sec: 0.20
  merge_gap_sec: 0.45
  smooth: "ema"
  ema_alpha: 0.15
  ma_win: 5

tracking:
  enabled: true
  tracker: "bytetrack.yaml"
  max_lost_frames: 12
  gate_use_tracks: true

export:
  out_dir: "outputs/events"
  save_fullframe_mp4: true
  save_crop_mp4: true
  save_frames: false
  crop_margin: 0.20
  fps_out: 0
  max_event_sec: 12
  sample_stride: 1
  crop_out_w: 640
  crop_out_h:
  video_fourcc: "XVID"

interaction:
  enabled: true
  max_center_dist_norm: 0.25
  min_iou: 0.0
  use_topk: 4
  w_proximity: 0.85
  w_iou: 0.15
  w_union: 0.55
  max_union_area_ratio: 0.55
  dyn_margin_gain: 0.35
  dyn_margin_max: 0.30

roi_stabilizer:
  enabled: true
  ema_alpha: 0.35
  jump_iou_thr: 0.25
  jump_confirm_frames: 3

gate:
  enabled: true
  probe_frames: 18
  probe_stride: 1
  need_2p: 2
  merge_gap_sec: 0.60
  keep_only_accepted: true
